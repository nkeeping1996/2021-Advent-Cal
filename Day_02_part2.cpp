#include <iostream>
#include <string>
#include <sstream>

int main() {

std::string route[] = {"forward 2", "forward 3", "forward 5", "forward 6", "down 7", "forward 8", "forward 4", "forward 7", "forward 5", "forward 5", "down 4", "down 9", "forward 8", "forward 5", "up 5", "down 5", "forward 3", "down 4", "down 8", "forward 9", "down 1", "up 9", "down 7", "up 7", "up 1", "forward 1", "down 1", "down 4", "down 4", "down 8", "down 4", "up 3", "down 1", "down 3", "forward 7", "down 6", "forward 3", "forward 5", "forward 2", "up 9", "forward 7", "up 5", "down 3", "forward 1", "forward 2", "down 3", "down 8", "down 3", "forward 8", "up 5", "down 5", "forward 3", "down 5", "forward 9", "down 3", "down 4", "down 9", "down 7", "up 3", "down 9", "up 9", "up 1", "forward 3", "up 4", "down 3", "forward 7", "forward 7", "up 7", "forward 6", "down 7", "down 6", "forward 2", "forward 9", "down 5", "forward 4", "up 6", "down 1", "down 9", "down 9", "forward 4", "down 1", "forward 6", "down 1", "down 5", "down 4", "down 4", "forward 4", "forward 9", "up 1", "down 2", "down 8", "down 5", "down 8", "down 8", "up 2", "forward 8", "up 1", "forward 4", "down 5", "down 1", "up 2", "forward 6", "forward 9", "forward 2", "forward 6", "forward 9", "up 6", "forward 9", "up 4", "down 7", "up 6", "forward 2", "down 1", "up 3", "forward 1", "forward 8", "down 6", "down 8", "down 8", "forward 8", "forward 2", "forward 2", "down 2", "up 1", "down 9", "up 9", "down 9", "up 3", "forward 9", "up 4", "up 7", "up 6", "down 9", "forward 1", "down 3", "down 4", "forward 8", "down 3", "down 9", "up 3", "forward 2", "up 5", "down 3", "forward 8", "up 3", "down 3", "forward 2", "forward 9", "down 1", "down 9", "down 4", "up 7", "down 4", "up 6", "forward 5", "down 6", "forward 3", "down 2", "forward 1", "forward 8", "down 4", "forward 1", "up 7", "forward 6", "up 9", "forward 6", "down 3", "forward 2", "down 4", "forward 6", "down 3", "down 6", "down 1", "down 1", "down 5", "forward 3", "forward 9", "forward 8", "down 3", "forward 7", "up 9", "forward 9", "up 2", "forward 4", "up 3", "forward 1", "up 6", "up 8", "down 5", "down 6", "up 9", "down 6", "down 9", "up 9", "down 4", "forward 5", "up 2", "down 3", "up 3", "down 1", "forward 3", "down 5", "forward 7", "down 6", "down 7", "down 5", "forward 2", "up 6", "down 9", "down 4", "down 3", "forward 9", "up 8", "forward 2", "down 2", "forward 4", "up 6", "down 4", "up 8", "down 7", "down 2", "up 6", "up 4", "down 2", "forward 5", "up 4", "down 8", "forward 3", "forward 1", "down 7", "forward 8", "forward 7", "down 7", "up 4", "forward 8", "down 5", "up 9", "forward 1", "forward 4", "forward 9", "forward 7", "down 9", "up 9", "down 1", "down 7", "forward 7", "down 7", "down 7", "down 3", "down 5", "forward 3", "down 2", "forward 6", "down 9", "up 5", "up 3", "forward 5", "down 6", "down 1", "forward 4", "down 3", "forward 8", "down 7", "forward 7", "forward 7", "up 7", "up 2", "up 3", "forward 9", "down 5", "up 2", "forward 5", "up 5", "forward 2", "forward 2", "down 8", "forward 2", "up 4", "forward 1", "forward 3", "up 8", "up 9", "forward 5", "down 1", "up 8", "down 4", "down 8", "up 4", "forward 9", "down 6", "down 8", "up 2", "up 3", "down 7", "down 4", "forward 5", "down 6", "forward 3", "forward 3", "forward 8", "down 1", "down 7", "down 9", "down 2", "down 7", "forward 7", "down 7", "down 6", "up 6", "forward 8", "forward 5", "up 5", "down 2", "up 8", "up 4", "down 9", "up 2", "forward 5", "up 2", "down 4", "up 4", "forward 2", "forward 4", "forward 9", "forward 9", "up 4", "up 5", "down 1", "down 6", "down 1", "down 4", "down 5", "down 3", "forward 3", "down 9", "forward 6", "down 3", "down 9", "down 2", "up 2", "down 2", "down 7", "forward 9", "down 3", "down 3", "down 2", "down 3", "forward 2", "down 9", "down 9", "up 5", "up 3", "forward 4", "up 7", "forward 8", "up 6", "forward 7", "down 7", "down 1", "forward 5", "down 2", "up 1", "down 8", "up 3", "forward 2", "up 9", "down 1", "down 3", "down 6", "down 2", "down 7", "up 2", "forward 5", "forward 7", "down 2", "forward 5", "forward 4", "forward 5", "down 3", "forward 7", "down 7", "forward 8", "down 3", "down 2", "up 1", "forward 6", "down 4", "down 2", "forward 7", "up 3", "down 4", "forward 2", "up 6", "down 3", "up 6", "up 8", "down 9", "up 6", "forward 8", "forward 9", "forward 4", "forward 7", "down 2", "forward 9", "down 7", "up 9", "down 5", "down 6", "up 5", "down 4", "forward 8", "forward 4", "forward 4", "down 6", "forward 3", "forward 6", "down 9", "down 9", "up 2", "forward 7", "down 8", "down 9", "down 9", "forward 7", "forward 3", "down 7", "down 8", "forward 8", "down 6", "down 5", "down 9", "down 3", "forward 1", "down 5", "forward 2", "forward 8", "down 2", "forward 6", "forward 3", "down 7", "down 4", "forward 8", "forward 1", "down 6", "forward 9", "forward 6", "up 1", "up 3", "down 8", "forward 1", "up 5", "down 4", "forward 7", "up 3", "down 2", "forward 1", "forward 9", "down 9", "down 7", "forward 8", "down 4", "up 3", "down 4", "forward 2", "forward 6", "down 7", "forward 6", "down 6", "down 4", "down 1", "up 9", "down 4", "down 7", "up 4", "down 9", "forward 6", "down 3", "forward 2", "down 4", "forward 3", "down 5", "up 9", "forward 8", "up 7", "up 6", "up 4", "forward 1", "down 1", "forward 4", "up 6", "forward 5", "forward 4", "forward 5", "up 6", "down 1", "forward 3", "up 7", "down 9", "up 9", "down 5", "forward 6", "forward 4", "up 1", "down 4", "up 1", "forward 3", "forward 1", "down 3", "forward 7", "down 2", "forward 3", "up 2", "forward 8", "down 3", "up 9", "down 5", "forward 6", "down 1", "down 8", "down 5", "forward 1", "down 6", "up 2", "forward 6", "down 2", "down 1", "up 6", "up 7", "down 5", "forward 7", "forward 6", "forward 6", "down 7", "forward 4", "down 5", "up 5", "down 1", "up 8", "down 8", "down 2", "down 2", "down 9", "up 9", "forward 2", "forward 7", "down 7", "down 4", "down 4", "down 8", "forward 5", "forward 2", "up 9", "down 9", "forward 7", "up 9", "down 2", "down 7", "up 2", "up 8", "forward 8", "down 4", "forward 3", "forward 4", "forward 6", "forward 2", "down 1", "down 2", "forward 2", "up 1", "down 1", "forward 5", "up 3", "up 3", "down 3", "down 1", "down 4", "up 5", "up 6", "forward 5", "up 7", "forward 6", "down 4", "down 7", "up 8", "forward 1", "down 5", "up 4", "up 3", "up 5", "down 1", "up 5", "forward 3", "up 5", "forward 2", "forward 2", "forward 5", "forward 2", "up 9", "forward 4", "down 1", "down 3", "down 5", "up 2", "down 8", "forward 8", "forward 9", "down 1", "down 3", "forward 8", "forward 2", "down 2", "down 1", "up 7", "forward 2", "forward 8", "down 9", "forward 1", "forward 4", "down 7", "down 4", "up 7", "down 3", "down 1", "down 4", "up 7", "down 6", "forward 7", "down 8", "up 2", "up 4", "up 6", "down 9", "down 9", "down 8", "forward 6", "up 3", "up 1", "forward 9", "forward 6", "up 4", "up 2", "up 7", "forward 5", "up 9", "up 9", "forward 9", "up 6", "down 1", "down 3", "forward 3", "down 2", "down 2", "down 6", "down 9", "forward 3", "forward 7", "up 3", "forward 3", "down 5", "forward 9", "up 6", "down 2", "forward 8", "down 3", "up 5", "down 6", "forward 9", "down 5", "down 2", "down 6", "forward 8", "forward 6", "down 1", "forward 6", "up 1", "up 7", "down 4", "down 7", "forward 4", "forward 7", "down 4", "forward 8", "down 8", "down 7", "forward 9", "down 1", "down 3", "down 6", "forward 7", "forward 6", "forward 3", "forward 8", "down 5", "down 3", "up 1", "down 9", "down 8", "forward 3", "down 6", "down 1", "forward 5", "forward 5", "forward 9", "up 5", "down 6", "up 9", "down 7", "down 6", "up 1", "forward 5", "forward 7", "forward 8", "forward 7", "forward 6", "forward 3", "forward 1", "forward 2", "up 4", "forward 3", "forward 4", "forward 5", "up 2", "up 3", "forward 4", "down 9", "up 4", "forward 7", "down 6", "down 6", "down 1", "forward 2", "down 2", "forward 2", "down 3", "forward 7", "forward 8", "down 4", "up 7", "forward 7", "down 7", "forward 7", "forward 9", "down 7", "up 2", "down 3", "forward 7", "down 1", "forward 8", "forward 2", "up 9", "down 3", "forward 2", "up 4", "forward 9", "down 4", "down 4", "forward 4", "down 2", "down 9", "forward 4", "down 2", "down 6", "forward 9", "forward 2", "up 1", "forward 2", "forward 3", "down 5", "up 8", "down 4", "down 4", "forward 7", "down 2", "up 6", "down 9", "forward 9", "up 1", "forward 3", "down 5", "forward 3", "down 3", "forward 4", "up 3", "down 6", "down 7", "down 4", "down 8", "down 4", "down 5", "up 9", "up 1", "down 7", "up 3", "up 3", "down 3", "up 4", "up 6", "forward 8", "down 1", "forward 7", "forward 4", "down 9", "down 1", "forward 7", "forward 9", "forward 1", "down 3", "down 2", "forward 3", "forward 2", "down 7", "forward 9", "forward 6", "up 9", "down 2", "forward 9", "up 6", "forward 8", "up 1", "down 5", "down 8", "forward 1", "down 1", "forward 9", "up 1", "forward 9", "forward 1", "forward 1", "down 7", "forward 3", "forward 6", "down 5", "forward 7", "forward 1", "down 7", "down 6", "down 6", "forward 5", "up 6", "down 6", "forward 8", "up 2", "down 8", "down 3", "up 5", "up 8", "down 6", "forward 4", "forward 2", "up 3", "forward 5", "forward 3", "up 8", "forward 6", "up 8", "forward 1", "up 8", "up 7", "up 6", "forward 2", "down 9", "down 9", "forward 3", "down 7", "forward 3", "down 6", "forward 9", "up 5", "down 1", "forward 7", "down 1", "down 5", "down 9", "forward 8", "forward 9", "forward 7", "down 9", "up 4", "forward 5", "down 5", "forward 5", "down 9", "forward 9", "forward 3", "up 5", "forward 8", "up 5", "down 1", "forward 8", "down 3", "forward 6", "up 9", "forward 8", "down 4", "forward 3", "down 5", "forward 8", "forward 9", "forward 2", "down 1", "down 6", "down 4", "forward 9", "up 2", "down 3", "down 6", "down 3", "down 9", "down 1", "up 6", "down 2", "down 7", "up 5", "forward 5", "up 1", "down 7", "forward 6", "up 6", "down 2", "down 3", "forward 3", "down 5", "forward 8", "down 9", "down 7", "down 8", "up 7", "down 1", "forward 1", "forward 1", "down 2", "up 4", "forward 2", "down 3", "up 2", "down 3", "down 2", "forward 7", "down 1", "up 7", "down 2", "down 1", "forward 6", "down 9", "up 9", "down 4", "down 6", "up 9", "forward 7", "forward 9", "forward 7", "down 4", "down 1", "forward 7", "down 4", "down 7", "down 3", "down 5", "forward 3", "down 8", "forward 8", "forward 7", "forward 8", "down 4", "down 9", "forward 2", "forward 7", "up 8", "forward 4", "down 6", "up 8", "down 2", "forward 3", "down 6", "down 8", "forward 8", "forward 2", "forward 9", "up 6", "forward 7", "down 3", "down 5", "forward 8", "forward 9", "down 3", "forward 3", "forward 2", "forward 3", "down 8", "up 9", "up 5", "up 2", "up 6", "up 1", "up 1", "up 5", "forward 3", "forward 2", "down 3", "forward 4"};

int horizontal = 0;
int depth = 0;
int aim = 0;

for (int i = 0; i <= 999; i++){

  if(route[i][0] == 'f'){
    char f = route[i].back();
    int fi = int(f)-48;
    horizontal+=fi;
    depth+=(fi*aim);

  }
  else if(route[i][0] == 'd'){
    char d = route[i].back();
    int di = int(d)-48;
    aim+=di;
  }
  else if(route[i][0] == 'u'){
    char u = route[i].back();
    int ui = int(u)-48;
    aim-=ui;
  }

}

std::cout << "The final horizontal position is " << horizontal << ".\n";
std::cout << "The final depth position is " << depth << ".\n";

int num = horizontal * depth;

std::cout << "This results in a final position of " << num << ".\n";

} 
